#include "MeshPreview.h"
#include "AccretionApp.h"

static size_t S_NUM_COMPONENTS = 372;

LED::LED(vec3 pPos, vec2 pUV) : Pos(pPos), UV(pUV)
{
}

MeshPreviewRef MeshPreview::create(string pVertShader, string pFragShader, gl::Texture2dRef pTexture, AccretionApp *pParent)
{
	return MeshPreviewRef(new MeshPreview(pVertShader, pFragShader, pTexture, pParent));
}

MeshPreview::MeshPreview(string pVertShader, string pFragShader, gl::Texture2dRef pTexture, AccretionApp *pParent) : mTexInput(pTexture)
{
	mPositions = 
	{
		vec3(-36.80000,-40.99998,0.00001),	vec3(36.80000,-40.99998,0.00001),	vec3(-4.36208,-3.20001,-6.66749),	vec3(-4.36211,3.20001,-6.66751),	vec3(-8.31118,3.02649,-5.71500),
		vec3(-13.42120,2.41594,-4.76250),	vec3(-18.95933,-0.79422,-3.80999),	vec3(-26.42841,-4.91199,-2.85751),	vec3(-32.92084,-13.04626,-1.90500),	vec3(-36.95240,-25.28419,-0.95250),
		vec3(1.09196,-26.85890,-2.85751),	vec3(-4.99315,-18.30730,-3.80999),	vec3(-6.47917,-11.99951,-4.76250),	vec3(-6.17499,-6.33283,-5.71500),	vec3(22.32265,-38.81340,-0.95250),
		vec3(10.32581,-33.87280,-1.90500),	vec3(-4.36212,0.00000,-6.66751),	vec3(-16.96415,-3.29609,-3.80999),	vec3(-14.96897,-5.79796,-3.80999),	vec3(-12.97379,-8.29983,-3.80999),
		vec3(-10.97860,-10.80160,-3.80999),	vec3(-8.98342,-13.30347,-3.80999),	vec3(-6.98833,-15.80534,-3.80999),	vec3(-23.92654,-6.90727,-2.85751),	vec3(-21.42467,-8.90236,-2.85751),
		vec3(-18.92281,-10.89745,-2.85751),	vec3(-16.42089,-12.89253,-2.85751),	vec3(-13.91916,-14.88781,-2.85751),	vec3(-11.41729,-16.88309,-2.85751),	vec3(-8.91547,-18.87817,-2.85751),
		vec3(-6.41356,-20.87326,-2.85751),	vec3(-3.91169,-22.86854,-2.85751),	vec3(-1.40982,-24.86362,-2.85751),	vec3(7.44267,-32.48425,-1.90500),	vec3(4.55971,-31.09570,-1.90500),
		vec3(1.67646,-29.70734,-1.90500),	vec3(-1.20659,-28.31879,-1.90500),	vec3(-4.08964,-26.93043,-1.90500),	vec3(-6.97279,-25.54207,-1.90500),	vec3(-9.85584,-24.15352,-1.90500),
		vec3(-12.73899,-22.76516,-1.90500),	vec3(-15.62214,-21.37680,-1.90500),	vec3(-18.50500,-19.98825,-1.90500),	vec3(-21.38824,-18.59970,-1.90500),	vec3(-24.27130,-17.21153,-1.90500),
		vec3(-27.15454,-15.82298,-1.90500),	vec3(-30.03769,-14.43462,-1.90500),	vec3(19.20319,-38.10158,-0.95250),	vec3(16.08334,-37.38937,-0.95250),	vec3(12.96349,-36.67717,-0.95250),
		vec3(9.84383,-35.96535,-0.95250),	vec3(6.72398,-35.25314,-0.95250),	vec3(3.60422,-34.54094,-0.95250),	vec3(0.48447,-33.82912,-0.95250),	vec3(-2.63529,-33.11691,-0.95250),
		vec3(-5.75504,-32.40471,-0.95250),	vec3(-8.87480,-31.69289,-0.95250),	vec3(-11.99455,-30.98068,-0.95250),	vec3(-15.11445,-30.26848,-0.95250),	vec3(-18.23416,-29.55666,-0.95250),
		vec3(-21.35391,-28.84445,-0.95250),	vec3(-24.47357,-28.13225,-0.95250),	vec3(-27.59342,-27.42043,-0.95250),	vec3(-30.71327,-26.70822,-0.95250),	vec3(-33.83312,-25.99640,-0.95250),
		vec3(-33.59985,-40.99998,0.00001),	vec3(-30.40009,-40.99998,0.00001),	vec3(-27.19994,-40.99998,0.00001),	vec3(-23.99998,-40.99998,0.00001),	vec3(-20.80002,-40.99998,0.00001),
		vec3(-17.60006,-40.99998,0.00001),	vec3(-14.40001,-40.99998,0.00001),	vec3(-11.20005,-40.99998,0.00001),	vec3(-7.99999,-40.99998,0.00001),	vec3(-4.79999,-40.99998,0.00001),
		vec3(-1.60000,-40.99998,0.00001),	vec3(1.59999,-40.99998,0.00001),	vec3(4.79999,-40.99998,0.00001),	vec3(7.99999,-40.99998,0.00001),	vec3(11.19995,-40.99998,0.00001),
		vec3(14.40001,-40.99998,0.00001),	vec3(17.60006,-40.99998,0.00001),	vec3(20.80002,-40.99998,0.00001),	vec3(23.99998,-40.99998,0.00001),	vec3(27.19994,-40.99998,0.00001),
		vec3(30.39989,-40.99998,0.00001),	vec3(33.59985,-40.99998,0.00001),	vec3(-12.03289,-0.46711,-4.76250),	vec3(-10.64441,-3.35026,-4.76250),	vec3(-9.25598,-6.23331,-4.76250),
		vec3(-7.86757,-9.11646,-4.76250),	vec3(-7.59916,-0.09332,-5.71500),	vec3(-6.88711,-3.21307,-5.71500),	vec3(40.99998,-36.80000,0.00001),	vec3(40.99998,36.80000,0.00001),
		vec3(3.20001,-4.36211,-6.66749),	vec3(-3.20001,-4.36211,-6.66751),	vec3(-3.02649,-8.31118,-5.71500),	vec3(-2.41594,-13.42120,-4.76250),	vec3(0.79422,-18.95933,-3.80999),
		vec3(4.91199,-26.42841,-2.85751),	vec3(13.04626,-32.92084,-1.90500),	vec3(25.28419,-36.95240,-0.95250),	vec3(26.85890,1.09196,-2.85751),	vec3(18.30740,-4.99315,-3.80999),
		vec3(11.99951,-6.47917,-4.76250),	vec3(6.33283,-6.17499,-5.71500),	vec3(38.81340,22.32285,-0.95250),	vec3(33.87280,10.32581,-1.90500),	vec3(0.00000,-4.36211,-6.66751),
		vec3(3.29609,-16.96415,-3.80999),	vec3(5.79786,-14.96897,-3.80999),	vec3(8.29983,-12.97379,-3.80999),	vec3(10.80160,-10.97860,-3.80999),	vec3(13.30347,-8.98342,-3.80999),
		vec3(15.80534,-6.98833,-3.80999),	vec3(6.90708,-23.92664,-2.85751),	vec3(8.90236,-21.42467,-2.85751),	vec3(10.89745,-18.92281,-2.85751),	vec3(12.89253,-16.42094,-2.85751),
		vec3(14.88781,-13.91916,-2.85751),	vec3(16.88309,-11.41729,-2.85751),	vec3(18.87817,-8.91542,-2.85751),	vec3(20.87326,-6.41356,-2.85751),	vec3(22.86854,-3.91169,-2.85751),
		vec3(24.86362,-1.40982,-2.85751),	vec3(32.48425,7.44267,-1.90500),	vec3(31.09570,4.55971,-1.90500),	vec3(29.70734,1.67656,-1.90500),	vec3(28.31879,-1.20659,-1.90500),
		vec3(26.93043,-4.08974,-1.90500),	vec3(25.54207,-6.97279,-1.90500),	vec3(24.15352,-9.85584,-1.90500),	vec3(22.76516,-12.73899,-1.90500),	vec3(21.37680,-15.62214,-1.90500),
		vec3(19.98825,-18.50500,-1.90500),	vec3(18.59970,-21.38824,-1.90500),	vec3(17.21153,-24.27130,-1.90500),	vec3(15.82298,-27.15454,-1.90500),	vec3(14.43462,-30.03769,-1.90500),
		vec3(38.10158,19.20319,-0.95250),	vec3(37.38937,16.08334,-0.95250),	vec3(36.67755,12.96349,-0.95250),	vec3(35.96535,9.84383,-0.95250),	vec3(35.25314,6.72398,-0.95250),
		vec3(34.54094,3.60422,-0.95250),	vec3(33.82912,0.48447,-0.95250),	vec3(33.11691,-2.63529,-0.95250),	vec3(32.40471,-5.75504,-0.95250),	vec3(31.69289,-8.87480,-0.95250),
		vec3(30.98068,-11.99455,-0.95250),	vec3(30.26848,-15.11445,-0.95250),	vec3(29.55666,-18.23406,-0.95250),	vec3(28.84445,-21.35391,-0.95250),	vec3(28.13225,-24.47357,-0.95250),
		vec3(27.42043,-27.59342,-0.95250),	vec3(26.70822,-30.71327,-0.95250),	vec3(25.99640,-33.83312,-0.95250),	vec3(40.99998,-33.59985,0.00001),	vec3(40.99998,-30.40009,0.00001),
		vec3(40.99998,-27.19994,0.00001),	vec3(40.99998,-23.99998,0.00001),	vec3(40.99998,-20.80002,0.00001),	vec3(40.99998,-17.60006,0.00001),	vec3(40.99998,-14.40001,0.00001),
		vec3(40.99998,-11.20005,0.00001),	vec3(40.99998,-7.99999,0.00001),	vec3(40.99998,-4.79999,0.00001),	vec3(40.99998,-1.60000,0.00001),	vec3(40.99998,1.59999,0.00001),
		vec3(40.99998,4.79999,0.00001),		vec3(40.99998,7.99999,0.00001),		vec3(40.99998,11.19995,0.00001),	vec3(40.99998,14.40001,0.00001),	vec3(40.99998,17.60006,0.00001),
		vec3(40.99998,20.80002,0.00001),	vec3(40.99998,23.99998,0.00001),	vec3(40.99998,27.19994,0.00001),	vec3(40.99998,30.39989,0.00001),	vec3(40.99998,33.59985,0.00001),
		vec3(0.46711,-12.03289,-4.76250),	vec3(3.35026,-10.64444,-4.76250),	vec3(6.23331,-9.25598,-4.76250),	vec3(9.11646,-7.86757,-4.76250),	vec3(0.09332,-7.59916,-5.71500),
		vec3(3.21307,-6.88710,-5.71500),	vec3(36.80000,40.99998,0.00001),	vec3(-36.80000,40.99998,0.00001),	vec3(4.36208,3.20001,-6.66749),		vec3(4.36211,-3.20001,-6.66751),
		vec3(8.31118,-3.02649,-5.71500),	vec3(13.42120,-2.41594,-4.76250),	vec3(18.95933,0.79422,-3.80999),	vec3(26.42841,4.91199,-2.85751),	vec3(32.92084,13.04626,-1.90500),
		vec3(36.95240,25.28419,-0.95250),	vec3(-1.09196,26.85890,-2.85751),	vec3(4.99315,18.30730,-3.80999),	vec3(6.47917,11.99951,-4.76250),	vec3(6.17499,6.33283,-5.71500),
		vec3(-22.32265,38.81340,-0.95250),	vec3(-10.32581,33.87280,-1.90500),	vec3(4.36212,0.00000,-6.66751),		vec3(16.96415,3.29609,-3.80999),	vec3(14.96897,5.79796,-3.80999),
		vec3(12.97379,8.29983,-3.80999),	vec3(10.97860,10.80160,-3.80999),	vec3(8.98342,13.30347,-3.80999),	vec3(6.98833,15.80534,-3.80999),	vec3(23.92654,6.90727,-2.85751),
		vec3(21.42467,8.90236,-2.85751),	vec3(18.92281,10.89745,-2.85751),	vec3(16.42089,12.89253,-2.85751),	vec3(13.91916,14.88781,-2.85751),	vec3(11.41729,16.88309,-2.85751),
		vec3(8.91547,18.87817,-2.85751),	vec3(6.41356,20.87326,-2.85751),	vec3(3.91169,22.86854,-2.85751),	vec3(1.40982,24.86362,-2.85751),	vec3(-7.44267,32.48425,-1.90500),
		vec3(-4.55971,31.09570,-1.90500),	vec3(-1.67646,29.70734,-1.90500),	vec3(1.20659,28.31879,-1.90500),	vec3(4.08964,26.93043,-1.90500),	vec3(6.97279,25.54207,-1.90500),
		vec3(9.85584,24.15352,-1.90500),	vec3(12.73899,22.76516,-1.90500),	vec3(15.62214,21.37680,-1.90500),	vec3(18.50500,19.98825,-1.90500),	vec3(21.38824,18.59970,-1.90500),
		vec3(24.27130,17.21153,-1.90500),	vec3(27.15454,15.82298,-1.90500),	vec3(30.03769,14.43462,-1.90500),	vec3(-19.20319,38.10158,-0.95250),	vec3(-16.08334,37.38937,-0.95250),
		vec3(-12.96349,36.67717,-0.95250),	vec3(-9.84383,35.96535,-0.95250),	vec3(-6.72398,35.25314,-0.95250),	vec3(-3.60422,34.54094,-0.95250),	vec3(-0.48447,33.82912,-0.95250),
		vec3(2.63529,33.11691,-0.95250),	vec3(5.75504,32.40471,-0.95250),	vec3(8.87480,31.69289,-0.95250),	vec3(11.99455,30.98068,-0.95250),	vec3(15.11445,30.26848,-0.95250),
		vec3(18.23416,29.55666,-0.95250),	vec3(21.35391,28.84445,-0.95250),	vec3(24.47357,28.13225,-0.95250),	vec3(27.59342,27.42043,-0.95250),	vec3(30.71327,26.70822,-0.95250),
		vec3(33.83312,25.99640,-0.95250),	vec3(33.59985,40.99998,0.00001),	vec3(30.40009,40.99998,0.00001),	vec3(27.19994,40.99998,0.00001),	vec3(23.99998,40.99998,0.00001),
		vec3(20.80002,40.99998,0.00001),	vec3(17.60006,40.99998,0.00001),	vec3(14.40001,40.99998,0.00001),	vec3(11.20005,40.99998,0.00001),	vec3(7.99999,40.99998,0.00001),
		vec3(4.79999,40.99998,0.00001),		vec3(1.60000,40.99998,0.00001),		vec3(-1.59999,40.99998,0.00001),	vec3(-4.79999,40.99998,0.00001),	vec3(-7.99999,40.99998,0.00001),
		vec3(-11.19995,40.99998,0.00001),	vec3(-14.40001,40.99998,0.00001),	vec3(-17.60006,40.99998,0.00001),	vec3(-20.80002,40.99998,0.00001),	vec3(-23.99998,40.99998,0.00001),
		vec3(-27.19994,40.99998,0.00001),	vec3(-30.39989,40.99998,0.00001),	vec3(-33.59985,40.99998,0.00001),	vec3(12.03289,0.46711,-4.76250),	vec3(10.64441,3.35026,-4.76250),
		vec3(9.25598,6.23331,-4.76250),		vec3(7.86757,9.11646,-4.76250),		vec3(7.59916,0.09332,-5.71500),		vec3(6.88711,3.21307,-5.71500),		vec3(-40.99998,36.80000,0.00001),
		vec3(-40.99998,-36.80000,0.00001),	vec3(-3.20001,4.36208,-6.66749),	vec3(3.20001,4.36211,-6.66751),		vec3(3.02649,8.31118,-5.71500),		vec3(2.41594,13.42130,-4.76250),
		vec3(-0.79422,18.95933,-3.80999),	vec3(-4.91199,26.42841,-2.85751),	vec3(-13.04626,32.92084,-1.90500),	vec3(-25.28419,36.95259,-0.95250),	vec3(-26.85890,-1.09196,-2.85751),
		vec3(-18.30740,4.99315,-3.80999),	vec3(-11.99951,6.47917,-4.76250),	vec3(-6.33283,6.17499,-5.71500),	vec3(-38.81340,-22.32265,-0.95250),	vec3(-33.87280,-10.32581,-1.90500),
		vec3(0.00000,4.36211,-6.66751),		vec3(-3.29609,16.96415,-3.80999),	vec3(-5.79796,14.96897,-3.80999),	vec3(-8.29983,12.97379,-3.80999),	vec3(-10.80160,10.97860,-3.80999),
		vec3(-13.30347,8.98342,-3.80999),	vec3(-15.80534,6.98833,-3.80999),	vec3(-6.90727,23.92654,-2.85751),	vec3(-8.90236,21.42467,-2.85751),	vec3(-10.89745,18.92281,-2.85751),
		vec3(-12.89272,16.42084,-2.85751),	vec3(-14.88781,13.91916,-2.85751),	vec3(-16.88309,11.41729,-2.85751),	vec3(-18.87817,8.91542,-2.85751),	vec3(-20.87326,6.41356,-2.85751),
		vec3(-22.86854,3.91169,-2.85751),	vec3(-24.86362,1.40982,-2.85751),	vec3(-32.48425,-7.44267,-1.90500),	vec3(-31.09570,-4.55971,-1.90500),	vec3(-29.70734,-1.67646,-1.90500),
		vec3(-28.31879,1.20659,-1.90500),	vec3(-26.93043,4.08974,-1.90500),	vec3(-25.54207,6.97279,-1.90500),	vec3(-24.15352,9.85584,-1.90500),	vec3(-22.76516,12.73899,-1.90500),
		vec3(-21.37680,15.62214,-1.90500),	vec3(-19.98825,18.50500,-1.90500),	vec3(-18.59970,21.38824,-1.90500),	vec3(-17.21153,24.27130,-1.90500),	vec3(-15.82298,27.15454,-1.90500),
		vec3(-14.43462,30.03769,-1.90500),	vec3(-38.10158,-19.20319,-0.95250),	vec3(-37.38937,-16.08334,-0.95250),	vec3(-36.67717,-12.96349,-0.95250),	vec3(-35.96535,-9.84383,-0.95250),
		vec3(-35.25314,-6.72398,-0.95250),	vec3(-34.54094,-3.60422,-0.95250),	vec3(-33.82912,-0.48447,-0.95250),	vec3(-33.11691,2.63529,-0.95250),	vec3(-32.40471,5.75504,-0.95250),
		vec3(-31.69289,8.87480,-0.95250),	vec3(-30.98068,11.99455,-0.95250),	vec3(-30.26886,15.11445,-0.95250),	vec3(-29.55666,18.23406,-0.95250),	vec3(-28.84445,21.35391,-0.95250),
		vec3(-28.13225,24.47357,-0.95250),	vec3(-27.42043,27.59323,-0.95250),	vec3(-26.70822,30.71327,-0.95250),	vec3(-25.99640,33.83293,-0.95250),	vec3(-40.99998,33.59985,0.00001),
		vec3(-40.99998,30.40009,0.00001),	vec3(-40.99998,27.19994,0.00001),	vec3(-40.99998,23.99998,0.00001),	vec3(-40.99998,20.80002,0.00001),	vec3(-40.99998,17.60006,0.00001),
		vec3(-40.99998,14.40001,0.00001),	vec3(-40.99998,11.20005,0.00001),	vec3(-40.99998,7.99999,0.00001),	vec3(-40.99998,4.79999,0.00001),	vec3(-40.99998,1.60000,0.00001),
		vec3(-40.99998,-1.59999,0.00001),	vec3(-40.99998,-4.79999,0.00001),	vec3(-40.99998,-7.99999,0.00001),	vec3(-40.99998,-11.19995,0.00001),	vec3(-40.99998,-14.40001,0.00001),
		vec3(-40.99998,-17.60006,0.00001),	vec3(-40.99998,-20.80002,0.00001),	vec3(-40.99998,-23.99998,0.00001),	vec3(-40.99998,-27.19994,0.00001),	vec3(-40.99998,-30.39989,0.00001),
		vec3(-40.99998,-33.59985,0.00001),	vec3(-0.46711,12.03289,-4.76250),	vec3(-3.35026,10.64444,-4.76250),	vec3(-6.23331,9.25598,-4.76250),	vec3(-9.11646,7.86757,-4.76250),
		vec3(-0.09332,7.59916,-5.71500),	vec3(-3.21307,6.88710,-5.71500)
	};

	mTexCoords =
	{
		vec2(0.00000000,0.00000000),	vec2(0.25000000,0.00000000),	vec2(0.25000000,0.75000000),	vec2(0.00000000,0.74999994),	vec2(0.00000000,0.49269724),	vec2(0.00000000,0.32931581),
		vec2(0.00000000,0.17771456),	vec2(0.00000000,0.08819839),	vec2(0.00000000,0.03851206),	vec2(0.00000000,0.01666344),	vec2(0.25000000,0.08819839),	vec2(0.25000000,0.17771456),
		vec2(0.25000000,0.32931581),	vec2(0.25000000,0.49269724),	vec2(0.25000000,0.01666344),	vec2(0.25000000,0.03851206),	vec2(0.12500000,0.75000000),	vec2(0.03571427,0.17771456),
		vec2(0.07142860,0.17771456),	vec2(0.10714287,0.17771456),	vec2(0.14285713,0.17771456),	vec2(0.17857140,0.17771456),	vec2(0.21428573,0.17771456),	vec2(0.02272725,0.08819839),
		vec2(0.04545456,0.08819839),	vec2(0.06818187,0.08819839),	vec2(0.09090912,0.08819839),	vec2(0.11363637,0.08819839),	vec2(0.13636363,0.08819839),	vec2(0.15909088,0.08819839),
		vec2(0.18181813,0.08819839),	vec2(0.20454550,0.08819839),	vec2(0.22727275,0.08819839),	vec2(0.23333335,0.03851206),	vec2(0.21666664,0.03851206),	vec2(0.19999999,0.03851211),
		vec2(0.18333328,0.03851206),	vec2(0.16666663,0.03851211),	vec2(0.14999998,0.03851206),	vec2(0.13333333,0.03851206),	vec2(0.11666667,0.03851206),	vec2(0.10000002,0.03851206),
		vec2(0.08333337,0.03851206),	vec2(0.06666666,0.03851206),	vec2(0.05000001,0.03851206),	vec2(0.03333330,0.03851206),	vec2(0.01666665,0.03851206),	vec2(0.23684210,0.01666344),
		vec2(0.22368419,0.01666344),	vec2(0.21052635,0.01666344),	vec2(0.19736838,0.01666344),	vec2(0.18421054,0.01666344),	vec2(0.17105263,0.01666344),	vec2(0.15789473,0.01666344),
		vec2(0.14473683,0.01666344),	vec2(0.13157892,0.01666344),	vec2(0.11842108,0.01666344),	vec2(0.10526317,0.01666344),	vec2(0.09210527,0.01666344),	vec2(0.07894737,0.01666344),
		vec2(0.06578946,0.01666344),	vec2(0.05263162,0.01666344),	vec2(0.03947371,0.01666344),	vec2(0.02631581,0.01666344),	vec2(0.01315796,0.01666344),	vec2(0.01086956,0.00000000),
		vec2(0.02173913,-0.00000004),	vec2(0.03260869,0.00000000),	vec2(0.04347825,0.00000004),	vec2(0.05434781,0.00000000),	vec2(0.06521738,0.00000000),	vec2(0.07608694,0.00000000),
		vec2(0.08695650,0.00000000),	vec2(0.09782606,0.00000000),	vec2(0.10869563,0.00000000),	vec2(0.11956519,0.00000000),	vec2(0.13043475,0.00000000),	vec2(0.14130437,0.00000000),
		vec2(0.15217388,0.00000000),	vec2(0.16304350,0.00000000),	vec2(0.17391300,0.00000000),	vec2(0.18478256,0.00000000),	vec2(0.19565213,0.00000000),	vec2(0.20652169,0.00000000),
		vec2(0.21739125,0.00000000),	vec2(0.22826082,0.00000000),	vec2(0.23913038,0.00000000),	vec2(0.05000001,0.32931581),	vec2(0.10000002,0.32931581),	vec2(0.14999998,0.32931581),
		vec2(0.19999999,0.32931581),	vec2(0.08333331,0.49269724),	vec2(0.16666669,0.49269724),	vec2(0.25000000,0.00000000),	vec2(0.49999994,0.00000000),	vec2(0.49999994,0.75000000),
		vec2(0.25000000,0.74999994),	vec2(0.25000000,0.49269724),	vec2(0.25000000,0.32931581),	vec2(0.25000000,0.17771456),	vec2(0.25000000,0.08819839),	vec2(0.25000000,0.03851206),
		vec2(0.25000000,0.01666344),	vec2(0.49999994,0.08819839),	vec2(0.49999994,0.17771456),	vec2(0.49999994,0.32931581),	vec2(0.49999994,0.49269724),	vec2(0.49999994,0.01666344),
		vec2(0.49999994,0.03851206),	vec2(0.37500000,0.75000000),	vec2(0.28571427,0.17771456),	vec2(0.32142860,0.17771456),	vec2(0.35714287,0.17771456),	vec2(0.39285713,0.17771456),
		vec2(0.42857140,0.17771456),	vec2(0.46428573,0.17771456),	vec2(0.27272725,0.08819839),	vec2(0.29545456,0.08819839),	vec2(0.31818187,0.08819839),	vec2(0.34090912,0.08819839),
		vec2(0.36363637,0.08819839),	vec2(0.38636363,0.08819839),	vec2(0.40909088,0.08819839),	vec2(0.43181813,0.08819839),	vec2(0.45454550,0.08819839),	vec2(0.47727269,0.08819839),
		vec2(0.48333329,0.03851206),	vec2(0.46666664,0.03851206),	vec2(0.44999999,0.03851211),	vec2(0.43333328,0.03851206),	vec2(0.41666663,0.03851211),	vec2(0.39999998,0.03851206),
		vec2(0.38333333,0.03851206),	vec2(0.36666667,0.03851206),	vec2(0.35000002,0.03851206),	vec2(0.33333337,0.03851206),	vec2(0.31666666,0.03851206),	vec2(0.30000001,0.03851206),
		vec2(0.28333330,0.03851206),	vec2(0.26666665,0.03851206),	vec2(0.48684198,0.01666344),	vec2(0.47368419,0.01666344),	vec2(0.46052635,0.01666344),	vec2(0.44736838,0.01666344),
		vec2(0.43421054,0.01666344),	vec2(0.42105263,0.01666344),	vec2(0.40789473,0.01666344),	vec2(0.39473683,0.01666344),	vec2(0.38157892,0.01666344),	vec2(0.36842108,0.01666344),
		vec2(0.35526317,0.01666344),	vec2(0.34210527,0.01666344),	vec2(0.32894737,0.01666344),	vec2(0.31578946,0.01666344),	vec2(0.30263162,0.01666344),	vec2(0.28947371,0.01666344),
		vec2(0.27631581,0.01666344),	vec2(0.26315796,0.01666344),	vec2(0.26086956,0.00000000),	vec2(0.27173913,-0.00000004),	vec2(0.28260869,0.00000000),	vec2(0.29347825,0.00000004),
		vec2(0.30434781,0.00000000),	vec2(0.31521738,0.00000000),	vec2(0.32608694,0.00000000),	vec2(0.33695650,0.00000000),	vec2(0.34782606,0.00000000),	vec2(0.35869563,0.00000000),
		vec2(0.36956519,0.00000000),	vec2(0.38043475,0.00000000),	vec2(0.39130437,0.00000000),	vec2(0.40217388,0.00000000),	vec2(0.41304350,0.00000000),	vec2(0.42391300,0.00000000),
		vec2(0.43478256,0.00000000),	vec2(0.44565213,0.00000000),	vec2(0.45652169,0.00000000),	vec2(0.46739125,0.00000000),	vec2(0.47826070,0.00000000),	vec2(0.48913032,0.00000000),
		vec2(0.30000001,0.32931581),	vec2(0.35000002,0.32931581),	vec2(0.39999998,0.32931581),	vec2(0.44999999,0.32931581),	vec2(0.33333331,0.49269724),	vec2(0.41666669,0.49269724),
		vec2(0.50000000,0.00000000),	vec2(0.75000000,0.00000000),	vec2(0.75000000,0.75000000),	vec2(0.50000000,0.74999994),	vec2(0.50000000,0.49269724),	vec2(0.50000000,0.32931581),
		vec2(0.50000000,0.17771456),	vec2(0.50000000,0.08819839),	vec2(0.50000000,0.03851206),	vec2(0.50000000,0.01666344),	vec2(0.75000000,0.08819839),	vec2(0.75000000,0.17771456),
		vec2(0.75000000,0.32931581),	vec2(0.75000000,0.49269724),	vec2(0.75000000,0.01666344),	vec2(0.75000000,0.03851206),	vec2(0.62500000,0.75000000),	vec2(0.53571427,0.17771456),
		vec2(0.57142860,0.17771456),	vec2(0.60714287,0.17771456),	vec2(0.64285713,0.17771456),	vec2(0.67857140,0.17771456),	vec2(0.71428573,0.17771456),	vec2(0.52272725,0.08819839),
		vec2(0.54545456,0.08819839),	vec2(0.56818187,0.08819839),	vec2(0.59090912,0.08819839),	vec2(0.61363637,0.08819839),	vec2(0.63636363,0.08819839),	vec2(0.65909088,0.08819839),
		vec2(0.68181813,0.08819839),	vec2(0.70454550,0.08819839),	vec2(0.72727275,0.08819839),	vec2(0.73333335,0.03851206),	vec2(0.71666664,0.03851206),	vec2(0.69999999,0.03851211),
		vec2(0.68333328,0.03851206),	vec2(0.66666663,0.03851211),	vec2(0.64999998,0.03851206),	vec2(0.63333333,0.03851206),	vec2(0.61666667,0.03851206),	vec2(0.60000002,0.03851206),
		vec2(0.58333337,0.03851206),	vec2(0.56666666,0.03851206),	vec2(0.55000001,0.03851206),	vec2(0.53333330,0.03851206),	vec2(0.51666665,0.03851206),	vec2(0.73684210,0.01666344),
		vec2(0.72368419,0.01666344),	vec2(0.71052635,0.01666344),	vec2(0.69736838,0.01666344),	vec2(0.68421054,0.01666344),	vec2(0.67105263,0.01666344),	vec2(0.65789473,0.01666344),
		vec2(0.64473683,0.01666344),	vec2(0.63157892,0.01666344),	vec2(0.61842108,0.01666344),	vec2(0.60526317,0.01666344),	vec2(0.59210527,0.01666344),	vec2(0.57894737,0.01666344),
		vec2(0.56578946,0.01666344),	vec2(0.55263162,0.01666344),	vec2(0.53947371,0.01666344),	vec2(0.52631581,0.01666344),	vec2(0.51315796,0.01666344),	vec2(0.51086956,0.00000000),
		vec2(0.52173913,-0.00000004),	vec2(0.53260869,0.00000000),	vec2(0.54347825,0.00000004),	vec2(0.55434781,0.00000000),	vec2(0.56521738,0.00000000),	vec2(0.57608694,0.00000000),
		vec2(0.58695650,0.00000000),	vec2(0.59782606,0.00000000),	vec2(0.60869563,0.00000000),	vec2(0.61956519,0.00000000),	vec2(0.63043475,0.00000000),	vec2(0.64130437,0.00000000),
		vec2(0.65217388,0.00000000),	vec2(0.66304350,0.00000000),	vec2(0.67391300,0.00000000),	vec2(0.68478256,0.00000000),	vec2(0.69565213,0.00000000),	vec2(0.70652169,0.00000000),
		vec2(0.71739125,0.00000000),	vec2(0.72826082,0.00000000),	vec2(0.73913038,0.00000000),	vec2(0.55000001,0.32931581),	vec2(0.60000002,0.32931581),	vec2(0.64999998,0.32931581),
		vec2(0.69999999,0.32931581),	vec2(0.58333331,0.49269724),	vec2(0.66666669,0.49269724),	vec2(0.75000000,0.00000000),	vec2(1.00000000,0.00000000),	vec2(1.00000000,0.75000000),
		vec2(0.75000000,0.74999994),	vec2(0.75000000,0.49269724),	vec2(0.75000000,0.32931581),	vec2(0.75000000,0.17771456),	vec2(0.75000000,0.08819839),	vec2(0.75000000,0.03851206),
		vec2(0.75000000,0.01666344),	vec2(1.00000000,0.08819839),	vec2(1.00000000,0.17771456),	vec2(1.00000000,0.32931581),	vec2(1.00000000,0.49269724),	vec2(1.00000000,0.01666344),
		vec2(1.00000000,0.03851206),	vec2(0.87500000,0.75000000),	vec2(0.78571427,0.17771456),	vec2(0.82142866,0.17771456),	vec2(0.85714293,0.17771456),	vec2(0.89285719,0.17771456),
		vec2(0.92857146,0.17771456),	vec2(0.96428573,0.17771456),	vec2(0.77272725,0.08819839),	vec2(0.79545462,0.08819839),	vec2(0.81818187,0.08819839),	vec2(0.84090912,0.08819839),
		vec2(0.86363637,0.08819839),	vec2(0.88636363,0.08819839),	vec2(0.90909088,0.08819839),	vec2(0.93181813,0.08819839),	vec2(0.95454550,0.08819839),	vec2(0.97727275,0.08819839),
		vec2(0.98333335,0.03851206),	vec2(0.96666670,0.03851206),	vec2(0.95000005,0.03851211),	vec2(0.93333328,0.03851206),	vec2(0.91666663,0.03851211),	vec2(0.89999998,0.03851206),
		vec2(0.88333333,0.03851206),	vec2(0.86666667,0.03851206),	vec2(0.85000002,0.03851206),	vec2(0.83333337,0.03851206),	vec2(0.81666672,0.03851206),	vec2(0.80000007,0.03851206),
		vec2(0.78333330,0.03851206),	vec2(0.76666665,0.03851206),	vec2(0.98684216,0.01666344),	vec2(0.97368419,0.01666344),	vec2(0.96052635,0.01666344),	vec2(0.94736838,0.01666344),
		vec2(0.93421054,0.01666344),	vec2(0.92105269,0.01666344),	vec2(0.90789473,0.01666344),	vec2(0.89473689,0.01666344),	vec2(0.88157892,0.01666344),	vec2(0.86842108,0.01666344),
		vec2(0.85526323,0.01666344),	vec2(0.84210527,0.01666344),	vec2(0.82894742,0.01666344),	vec2(0.81578946,0.01666344),	vec2(0.80263162,0.01666344),	vec2(0.78947377,0.01666344),
		vec2(0.77631581,0.01666344),	vec2(0.76315796,0.01666344),	vec2(0.76086962,0.00000000),	vec2(0.77173913,-0.00000004),	vec2(0.78260875,0.00000000),	vec2(0.79347825,0.00000004),
		vec2(0.80434787,0.00000000),	vec2(0.81521738,0.00000000),	vec2(0.82608700,0.00000000),	vec2(0.83695650,0.00000000),	vec2(0.84782612,0.00000000),	vec2(0.85869563,0.00000000),
		vec2(0.86956525,0.00000000),	vec2(0.88043475,0.00000000),	vec2(0.89130437,0.00000000),	vec2(0.90217388,0.00000000),	vec2(0.91304350,0.00000000),	vec2(0.92391300,0.00000000),
		vec2(0.93478262,0.00000000),	vec2(0.94565213,0.00000000),	vec2(0.95652175,0.00000000),	vec2(0.96739125,0.00000000),	vec2(0.97826087,0.00000000),	vec2(0.98913038,0.00000000),
		vec2(0.80000007,0.32931581),	vec2(0.85000002,0.32931581),	vec2(0.89999998,0.32931581),	vec2(0.95000005,0.32931581),	vec2(0.83333337,0.49269724),	vec2(0.91666675,0.49269724),
	};

	for (int i = 0; i < S_NUM_COMPONENTS; ++i)
		mLEDs.push_back(LED(mPositions[i], mTexCoords[i]));

	mInstanceMesh = gl::VboMesh::create(geom::Sphere().subdivisions(8));
	mInstanceData = gl::Vbo::create(GL_ARRAY_BUFFER, mLEDs, GL_STATIC_DRAW);
	
	geom::BufferLayout attribs;
	attribs.append(geom::Attrib::CUSTOM_0, 3, sizeof(LED), offsetof(LED, Pos), 1);
	attribs.append(geom::Attrib::CUSTOM_1, 2, sizeof(LED), offsetof(LED, UV), 1);

	mInstanceMesh->appendVbo(attribs, mInstanceData);
	mShader = gl::GlslProg::create(pParent->loadAsset(pVertShader), pParent->loadAsset(pFragShader));

	mInstanceDraw = gl::Batch::create(mInstanceMesh, mShader, { {geom::CUSTOM_0, "i_Position"},{ geom::CUSTOM_1, "i_TexCoord" } });
	mInstanceDraw->getGlslProg()->uniform("u_Sampler", 0);
	
}

void MeshPreview::Draw(float pElapsed)
{
	gl::ScopedTextureBind tex(mTexInput, 0);
	mInstanceDraw->getGlslProg()->uniform("u_Offset", pElapsed*0.005f);
	mInstanceDraw->drawInstanced(S_NUM_COMPONENTS);
}


